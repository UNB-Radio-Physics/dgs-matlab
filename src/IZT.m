function ZT = IZT(x1,x2,x3)
%      Initialize the ZT table
%      This routine sets the values for the ZT table used for
%      determining Rx antenna beams, etc.  It is initialized this way
%      to allow for a custom table to be loaded early in the main program,
%      perhaps from a file.
% 
%      The Meaning byte is defined as 0PVZAAAA where
%         P = Polarization (0=Ordinary, 1=eXtraordinary)
%         V = Vertical  (0=Not vertical, 1 = Vertical)
%         Z = Zenith Angles (0 for small(11deg), 1 for Large (22deg))
%         AAAA = Azimuth Value (0-12)
% 
%      ToDo: Allow this to optionally read from an UMLCAR format ZT file.
% 
%      Source: Green Book table 5.9, P.98, Revised 11Jun86,5Nov87,28Dec88
% 
persistent izt

if isempty(izt)
    izt = int16(zeros(8,8,8));
%     Z=0,8 T=0,1,2,3, 8,9,A,B
       izt(1,1,:) =  [32, 32, 32, 32, 32, 32, 32, 32];
       izt(1,2,:) = [17, 17, 17, 17, 17, 17, 17, 17];
       izt(1,3,:) = [17, 18, 96, 32, 17, 18, 96, 32];
       izt(1,4,:) = [17, 18, 19, 20, 21, 22, 96, 32];
       izt(1,5,:) = [17, 17, 17, 17, 17, 17, 17, 17];
       izt(1,6,:) = [17, 18, 17, 18, 17, 18, 17, 18];
       izt(1,7,:) = [17, 18, 19, 20, 17, 18, 19, 20];
       izt(1,8,:) = [17, 18, 19, 20, 21, 22, 23, 24];
%     Z=1,9 T=0,1,2,3, 8,9,A,B
       izt(2,1,:) = [ 0,  0,  0,  0,  0,  0,  0,  0];
       izt(2,2,:) = [17,  1, 17,  1, 17,  1, 17,  1];
       izt(2,3,:) = [17, 17, 32, 32, 17, 17, 32, 32];
       izt(2,4,:) = [17, 19, 21, 23, 25, 27, 96, 32];
       izt(2,5,:) = [ 0,  0,  0,  0,  0,  0,  0,  0];
       izt(2,6,:) = [17, 19, 17, 19, 17, 19, 17, 19];
       izt(2,7,:) = [17, 17, 17, 17, 17, 17, 17, 17];
       izt(2,8,:) = [17, 17, 17, 17, 19, 19, 19, 19];
%     Z=2,A T=0,1,2,3, 8,9,A,B
       izt(3,1,:) = [ 0,  0,  0,  0,  0,  0,  0,  0];
       izt(3,2,:) = [17, 32, 17, 32, 17, 32, 17, 32];
       izt(3,3,:) = [81, 81, 17, 17, 81, 81, 17, 17];
       izt(3,4,:) = [81, 81, 81, 81, 17, 17, 17, 17];
       izt(3,5,:) = [ 0,  0,  0,  0,  0,  0,  0,  0];
       izt(3,6,:) = [17, 20, 17, 20, 17, 20, 17, 20];
       izt(3,7,:) = [17, 20, 23, 26, 17, 20, 23, 26];
       izt(3,8,:) = [17, 17, 17, 17, 32, 32, 32, 32];
%     Z=3,B T=0,1,2,3, 8,9,A,B
       izt(4,1,:) = [81, 81, 81, 81, 81, 81, 81, 81];
       izt(4,2,:) = [81, 17, 81, 17, 81, 17, 81, 17];
       izt(4,3,:) = [17, 23, 96, 32, 17, 23, 96, 32];
       izt(4,4,:) = [17, 17, 23, 23, 96, 96, 32, 32];
       izt(4,5,:) = [ 0,  0,  0,  0,  0,  0,  0,  0];
       izt(4,6,:) = [17, 23, 17, 23, 17, 23, 17, 23];
       izt(4,7,:) = [17, 23,  1,  7, 17, 21,  1,  7];
       izt(4,8,:) = [17, 17, 17, 17, 23, 23, 23, 23];
%     Z=4,C T=0,1,2,3, 8,9,A,B
       izt(5,1,:) = [96, 96, 96, 96, 96, 96, 96, 96];
       izt(5,2,:) = [ 1,  1,  1,  1,  1,  1,  1,  1];
       izt(5,3,:) = [ 1,  2, 96, 32,  1,  2, 96, 32];
       izt(5,4,:) = [ 1,  2,  3,  4,  5,  6, 96, 32];
       izt(5,5,:) = [ 1,  1,  1,  1,  1,  1,  1,  1];
       izt(5,6,:) = [17, 19, 17, 19, 17, 19, 17, 19];
       izt(5,7,:) = [17, 17, 17, 17, 17, 17, 17, 17];
       izt(5,8,:) = [17, 17, 17, 17, 19, 19, 19, 19];
%     Z=5,D T=0,1,2,3, 8,9,A,B
       izt(6,1,:) = [ 0,  0,  0,  0,  0,  0,  0,  0];
       izt(6,2,:) = [96, 32, 96, 32, 96, 32, 96, 32];
       izt(6,3,:) = [96, 96, 32, 32, 96, 96, 32, 32];
       izt(6,4,:) = [ 1,  3,  5,  7,  9, 11, 96, 32];
       izt(6,5,:) = [ 0,  0,  0,  0,  0,  0,  0,  0];
       izt(6,6,:) = [ 1,  3,  1,  3,  1,  3,  1,  3];
       izt(6,7,:) = [ 1,  1,  1,  1,  1,  1,  1,  1];
       izt(6,8,:) = [ 1,  1,  1,  1,  3,  3,  3,  3];
%     Z=6,E T=0,1,2,3, 8,9,A,B
       izt(7,1,:) = [ 0,  0,  0,  0,  0,  0,  0,  0];
       izt(7,2,:) = [ 1, 32,  1, 32,  1, 32,  1, 32];
       izt(7,3,:) = [65, 65,  1,  1, 65, 65,  1,  1];
       izt(7,4,:) = [65, 65, 65, 65,  1,  1,  1,  1];
       izt(7,5,:) = [ 0,  0,  0,  0,  0,  0,  0,  0];
       izt(7,6,:) = [ 1,  4,  1,  4,  1,  4,  1,  4];
       izt(7,7,:) = [ 1,  4,  7, 10,  1,  4,  7, 10];
       izt(7,8,:) = [ 1,  1,  1,  1, 17, 17, 17, 17];
%     Z=7,F T=0,1,2,3, 8,9,A,B
       izt(8,1,:) = [65, 65, 65, 65, 65, 65, 65, 65];
       izt(8,2,:) = [65,  1, 65,  1, 65,  1, 65,  1];
       izt(8,3,:) = [ 1,  7, 96, 32,  1,  7, 96, 32];
       izt(8,4,:) = [96, 96, 96, 96, 32, 32, 32, 32];
       izt(8,5,:) = [ 0,  0,  0,  0,  0,  0,  0,  0];
       izt(8,6,:) = [ 1,  7,  1,  7,  1,  7,  1,  7];
       izt(8,7,:) = [32, 32, 32, 32, 32, 32, 32, 32];
       izt(8,8,:) = [ 1,  1,  1,  1,  7,  7,  7,  7];

end

ZT = izt(x1+1,x2+1,x3);
return

